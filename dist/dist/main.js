(()=>{"use strict";var t=document.getElementById("source"),e=t.getContext("2d"),n=document.getElementById("result-crt"),i=n.getContext("2d");e.fillStyle="#4f534d",e.fillRect(0,0,n.width,n.height),e.fill();var l=new Image;l.src="public/tv1.png",l.setAttribute("crossOrigin",""),l.crossOrigin="Anonymous",l.onload=function(){i.drawImage(l,0,0,n.width,n.height)};var a=document.getElementById("source-video");a.setAttribute("crossOrigin",""),a.crossOrigin="Anonymous",document.getElementById("btn").onclick=function(){a.paused?a.play():a.pause()},a.addEventListener("play",(function(){console.log("PLAY!: ",i),requestAnimationFrame((function n(){i.fillStyle="#2a2a2a",i.fillRect(218,284,390,389),i.fill(),e.drawImage(a,0,0,60,60);for(var l=0;l<t.height;l++)for(var o=0;o<t.width;o++)c=e.getImageData(o,l,1,1).data,g=l,d=o,s=1.8,u=6.000000000000001,(r=i).beginPath(),r.roundRect(6*d+232,g*u+.2*g+292,s,u,5),r.fillStyle="rgba(255,0,0,".concat(c[0]/255,")"),r.fill(),r.beginPath(),r.fillStyle="rgba(0,255,0,".concat(c[1]/255,")"),r.roundRect(6*d+.2+s+232,g*u+.2*g+292,s,u,5),r.fill(),r.beginPath(),r.fillStyle="rgba(0,0,255,".concat(c[2]/255,")"),r.roundRect(6*d+.4+3.6+232,g*u+.2*g+292,s,u,5),r.fill();var r,c,g,d,s,u;requestAnimationFrame(n)}))}))})();